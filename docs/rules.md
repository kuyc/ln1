См. также: docs/context_control.md — обязателен для всех помощников.


1. Назначение документа

Этот документ определяет обязательные правила и ограничения проекта ln1.

Правила из этого файла:

имеют высший приоритет;

обязательны для всех агентов, нейросетей и разработчиков;

не могут быть переопределены кодом.

Если действие противоречит этому документу —
➡️ действие запрещено, даже если оно технически возможно.

2. Главный принцип проекта

Контроль важнее автономности.
Безопасность важнее прибыли.
Документация важнее кода.

3. Источник истины проекта (КРИТИЧЕСКОЕ ПРАВИЛО)
3.1 Архив-first подход

Единственный источник истины проекта ln1 —
ПОСЛЕДНИЙ архив проекта, загруженный пользователем в память проекта ChatGPT.

Все нейросети и агенты ОБЯЗАНЫ:

Считать последний загруженный архив актуальной версией проекта.

Основываться только на файлах внутри этого архива.

Игнорировать любые старые версии, сообщения и предположения.

3.2 Обновление архива

При загрузке нового архива пользователем:

предыдущая версия проекта считается недействительной;

весь контекст проекта пересобирается заново;

«память» о старых файлах запрещена.

Если файла нет в архиве —
➡️ его не существует.

3.3 Запрещённое поведение ИИ

ИИ ЗАПРЕЩЕНО:

додумывать структуру проекта;

ссылаться на «прошлые версии»;

продолжать работу без актуального архива;

смешивать разные версии проекта.

При отсутствии архива ИИ ОБЯЗАН ОСТАНОВИТЬСЯ и запросить его.

4. Общие правила безопасности (НЕ НАРУШАЮТСЯ)

Любая автоматизация должна быть обратимой

Любое действие должно быть остановлено вручную

Любая ошибка важнее продолжения работы

Любая неопределённость → STOP

5. Работа с Playerok API (cookies)
5.1 Cookies

cookies НИКОГДА не хранятся в репозитории;

cookies не передаются между агентами;

cookies хранятся только в .env.

Утечка cookies → критическая ошибка.

5.2 Использование Playerok API

Разрешено:

публикация товаров;

получение заказов;

подтверждение заказов;

сбор рыночных данных.

Запрещено:

массовые запросы;

параллельные запросы без лимитов;

обход ограничений Playerok;

эмуляция «человеческого» поведения.

5.3 Rate limiting

Обязательно:

задержки между запросами;

случайный jitter;

дневные лимиты действий.

Нарушение → ERROR.

6. Анти-бан политика
Запрещено:

массовая публикация товаров;

частые изменения цены;

одинаковые описания;

одинаковые превью;

непрерывная активность 24/7.

Обязательно:

паузы;

вариативность контента;

ручное подтверждение в сомнительных случаях.

7. Ограничения нейросетей (ЖЁСТКО)
Нейросети НЕ МОГУТ:

запускать Workflow;

останавливать Workflow;

менять режимы;

обходить лимиты;

принимать бизнес-решения;

действовать без Workflow.

Нейросети МОГУТ:

генерировать контент;

анализировать данные;

предлагать цену (через Pricing Engine).

8. Цена и финансы

цена всегда проходит через Pricing Engine;

лимиты обязательны;

резкие изменения запрещены;

сомнения → подтверждение администратора.

Нарушение → ERROR.

9. Управление режимами

режимы запускаются только администратором;

режим нельзя сменить «на лету»;

Auto режим — повышенный риск;

ошибка → остановка режима.

10. Workflow и ошибки

При любой ошибке:

Workflow останавливается;

состояние сохраняется;

администратор уведомляется;

автоматическое продолжение запрещено.

11. Логирование и аудит

Обязательно логируются:

состояния Workflow;

переходы;

действия API;

изменения цены;

подтверждения администратора.

Без логов → ошибка архитектуры.

12. Тестирование как правило безопасности

Auto режим без тестов запрещён;

Kill Switch обязателен;

тесты важнее скорости.

13. Юридические границы

Проект ln1:

не является официальным продуктом Playerok;

не гарантирует доход;

используется на риск владельца;

не нарушает применимое законодательство.

14. Аварийная остановка (Kill Switch)

Kill Switch:

имеет приоритет над всем;

останавливает все Workflow;

не может быть проигнорирован.

15. Финальное правило проекта

Если есть сомнение — система останавливается.
Если нет архива — система не работает.
Контроль важнее автономности.
